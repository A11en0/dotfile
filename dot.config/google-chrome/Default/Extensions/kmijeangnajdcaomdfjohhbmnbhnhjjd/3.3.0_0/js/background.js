!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=82)}([,function(t,e,n){"use strict";function o(t){return"[object Array]"===C.call(t)}function r(t){return void 0===t}function i(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function c(t){return"[object ArrayBuffer]"===C.call(t)}function a(t){return"undefined"!=typeof FormData&&t instanceof FormData}function u(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function f(t){return"number"==typeof t}function d(t){return null!==t&&"object"==typeof t}function h(t){return"[object Date]"===C.call(t)}function l(t){return"[object File]"===C.call(t)}function p(t){return"[object Blob]"===C.call(t)}function m(t){return"[object Function]"===C.call(t)}function g(t){return d(t)&&m(t.pipe)}function b(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function v(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function w(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function O(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=O(e[n],t):e[n]=t}for(var e={},n=0,o=arguments.length;n<o;n++)w(arguments[n],t);return e}function j(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=j(e[n],t):e[n]="object"==typeof t?j({},t):t}for(var e={},n=0,o=arguments.length;n<o;n++)w(arguments[n],t);return e}function x(t,e,n){return w(e,function(e,o){t[o]=n&&"function"==typeof e?k(e,n):e}),t}var k=n(43),C=Object.prototype.toString;t.exports={isArray:o,isArrayBuffer:c,isBuffer:i,isFormData:a,isArrayBufferView:u,isString:s,isNumber:f,isObject:d,isUndefined:r,isDate:h,isFile:l,isBlob:p,isFunction:m,isStream:g,isURLSearchParams:b,isStandardBrowserEnv:y,forEach:w,merge:O,deepMerge:j,extend:x,trim:v}},,,function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i});var o="https://withpinbox.com/api/",r="https://withpinbox.com",i=!1},,function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(d===clearTimeout)return clearTimeout(t);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function c(){m&&l&&(m=!1,l.length?p=l.concat(p):g=-1,p.length&&a())}function a(){if(!m){var t=r(c);m=!0;for(var e=p.length;e;){for(l=p,p=[];++g<e;)l&&l[g].run();g=-1,e=p.length}l=null,m=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function s(){}var f,d,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(t){d=o}}();var l,p=[],m=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||m||r(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.prependListener=s,h.prependOnceListener=s,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o={userInfo:null,contextMenus:{page:null,link:null,image:null,select:null},shortcut:null,collectObj:null,tagList:null,websiteInfo:null,itemObj:{},tagObj:{},optionConfig:{newtabState:!1,linkSeach:!0,contextMenusState:!0,imageHoverBtn:!1,searchBoxAutoFocus:"address"},shortcutAreaList:null,updatedTabId:null,activeTabId:null,hasChecked:{},saving:!1};e.a=o},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"f",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"k",function(){return s}),n.d(e,"s",function(){return f}),n.d(e,"p",function(){return d}),n.d(e,"t",function(){return h}),n.d(e,"g",function(){return l}),n.d(e,"j",function(){return p}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return g}),n.d(e,"c",function(){return b}),n.d(e,"u",function(){return v}),n.d(e,"l",function(){return y}),n.d(e,"q",function(){return w}),n.d(e,"r",function(){return O}),n.d(e,"o",function(){return j}),n.d(e,"y",function(){return x}),n.d(e,"v",function(){return k}),n.d(e,"m",function(){return C}),n.d(e,"d",function(){return L}),n.d(e,"b",function(){return T}),n.d(e,"n",function(){return I}),n.d(e,"a",function(){return M}),n.d(e,"w",function(){return E}),n.d(e,"x",function(){return N});var r=n(4),i=n(84),c=n(29),a=function(){var t={type:"normal",title:"收藏该网页到 Pinbox",checked:!1,contexts:["page"],onclick:function(t,e){S({url:e.url,title:e.title})}},e={type:"normal",title:"收藏该链接到 Pinbox",checked:!1,contexts:["link"],onclick:function(t,e){S({url:t.linkUrl})}},n={type:"normal",title:"收藏该图片到 Pinbox",checked:!1,contexts:["image"],onclick:function(t,e){M({imageUrl:t.srcUrl,url:e.url})}},o={type:"normal",title:"收藏选中文字到 Pinbox",checked:!1,contexts:["selection"],onclick:function(t,e){P({content:t.selectionText,url:e.url})}};c.a.contextMenus.page=chrome.contextMenus.create(t),c.a.contextMenus.link=chrome.contextMenus.create(e),c.a.contextMenus.image=chrome.contextMenus.create(n),c.a.contextMenus.select=chrome.contextMenus.create(o)},u=function(){var t={type:"normal",title:"发现",checked:!1,contexts:["browser_action"],onclick:function(){chrome.tabs.create({url:r.b+"/explore"})}},e={type:"normal",title:"我的收藏",checked:!1,contexts:["browser_action"],onclick:function(){chrome.tabs.create({url:r.b+"/items"})}},n={type:"normal",title:"工具",checked:!1,contexts:["browser_action"]};chrome.contextMenus.create(e),chrome.contextMenus.create(t);var o=chrome.contextMenus.create(n),i={type:"normal",title:"二维码生成",checked:!1,contexts:["browser_action"],parentId:o,onclick:function(){A().then(function(){chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.tabs.get(t[0].id,function(e){chrome.tabs.sendMessage(t[0].id,{type:"qrcode",response:e.url},function(){chrome.runtime.lastError&&setTimeout(function(){chrome.tabs.sendMessage(t[0].id,{type:"qrcode",response:e.url})},100)})})})})}};if(chrome.contextMenus.create(i),r.c){var a={type:"normal",title:"选项",checked:!1,contexts:["browser_action"],onclick:function(){chrome.tabs.create({url:"options.html"})}};chrome.contextMenus.create(a),chrome.storage.sync.get("install",function(t){t&&(t.install||(chrome.storage.sync.set({install:"true"}),chrome.tabs.create({url:"https://withpinbox.com/explore/collection/377632",active:!0})))})}chrome.browserAction.onClicked.addListener(function(t){c.a.saving||S({url:t.url,title:t.title})})},s=function(){return new Promise(function(t,e){var n={url:r.b,name:"alpha_info"};chrome.cookies.get(n,function(n){if(n){var o=JSON.parse(n.value),r=o.token;if(r){1e3*JSON.parse(window.atob(r.split(".")[1])).exp>(new Date).getTime()?(c.a.userInfo=o,t(o)):e(o)}else e(o)}else t(null)})})},f=function(){return new Promise(function(t,e){s().then(function(n){if(n){var o="default",a="desc";chrome.cookies.get({url:r.b,name:"alpha_collect_order"},function(r){if(r){var u=JSON.parse(r.value);o=u.name,a=u.direction,i.r(n.uid,n.token,o,a).then(function(e){c.a.collectObj=e.data,t(e)}).catch(function(t){e(t)})}})}})})},d=function(){return new Promise(function(t,e){s().then(function(n){n&&i.o(n.uid,n.token).then(function(e){c.a.tagList=e.data,t(e)}).catch(function(t){e(t)})})})},h=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.s(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},l=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.g(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},p=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.j(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},m=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.h(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},g=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.i(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},b=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.e(o.uid,t).then(function(t){c.a.collectObj.push(t.data),e(t)}).catch(function(t){n(t)})})})},v=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.t(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},y=function(t,e){return new Promise(function(n,a){s().then(function(u){if(u){var s="create",f="desc";chrome.cookies.get({url:r.b,name:"alpha_item_order"},function(r){if(r){var d=JSON.parse(r.value);s=d.name,f=d.direction}"default"===s&&(s="create"),i.k(u.uid,u.token,t,e,s,f).then(function(r){if(0==e)c.a.itemObj[t]=r.data;else{var i;(i=c.a.itemObj[t].items).push.apply(i,o(r.data.items))}N(),n(c.a.itemObj[t])}).catch(function(t){a(t)})})}})})},w=function(t,e){return new Promise(function(n,r){s().then(function(a){a&&i.p(a.uid,a.token,e,t).then(function(r){if(0==e)c.a.tagObj[t]=r.data;else{var i;(i=c.a.tagObj[t].items).push.apply(i,o(r.data.items))}n(c.a.tagObj[t])}).catch(function(t){r(t)})})})},O=function(t,e){return new Promise(function(n,r){s().then(function(a){a&&i.q(a.uid,a.token,e).then(function(r){if(0==e)c.a.tagObj[t]=r.data;else{var i;(i=c.a.tagObj[t].items).push.apply(i,o(r.data.items))}n(c.a.tagObj[t])}).catch(function(t){r(t)})})})},j=function(){return new Promise(function(t,e){s().then(function(n){n&&i.n(n.uid,n.token).then(function(e){t(e)}).catch(function(t){e(t)})})})},x=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.v(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},k=function(t){return new Promise(function(e,n){i.u(t).then(function(t){e(t)}).catch(function(t){n(t)})})},C=function(t){return new Promise(function(e,n){i.l(t).then(function(t){e(t)}).catch(function(t){n(t)})})},L=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.f(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},T=function(t){return new Promise(function(e,n){s().then(function(o){o&&i.c(o.uid,t).then(function(t){e(t)}).catch(function(t){n(t)})})})},I=function(){return new Promise(function(t,e){s().then(function(e){e?i.m(e.uid).then(function(e){c.a.shortcut={},e.data.data.forEach(function(t){c.a.shortcut[t.shortcut_key]?c.a.shortcut[t.shortcut_key].push(t):c.a.shortcut[t.shortcut_key]=[t]}),chrome.storage.sync.set({shortcut:JSON.stringify(c.a.shortcut)}),t(c.a.shortcut)}).catch(function(){chrome.storage.sync.get("shortcut",function(e){e&&e.shortcut&&(c.a.shortcut=JSON.parse(e.shortcut)),t(c.a.shortcut)})}):(c.a.shortcut=null,t(c.a.shortcut))})})},S=function(t){c.a.saving=!0;var e=function(){return new Promise(function(e,n){if(c.a.hasChecked&&c.a.hasChecked[t.url]&&c.a.hasChecked[t.url].state)e(c.a.hasChecked[t.url].collection_id);else{var o=void 0,r=setTimeout(function(){clearInterval(r),clearInterval(o),e(null)},3e3);o=setInterval(function(){c.a.hasChecked&&c.a.hasChecked[t.url]&&c.a.hasChecked[t.url].state&&(clearInterval(r),clearInterval(o),e(c.a.hasChecked[t.url].collection_id))},100)}})};s().then(function(n){n?chrome.tabs.query({active:!0,currentWindow:!0},function(o){A().then(function(){chrome.tabs.sendMessage(o[0].id,{type:"saving"},function(){chrome.runtime.lastError&&setTimeout(function(){c.a.saving&&chrome.tabs.sendMessage(o[0].id,{type:"saving"})},100)}),e().then(function(e){e&&(t.collectionId=e),i.d(n.uid,t).then(function(e){c.a.saving=!1,c.a.websiteInfo=e.data;var n=e.data;n.state=!0,c.a.hasChecked[t.url]=n,E(),chrome.browserAction.setIcon({path:"./img/logoed.png"}),chrome.tabs.sendMessage(o[0].id,{type:"saved",category:"website",response:e})}).catch(function(t){c.a.saving=!1,401==t.status?chrome.tabs.create({url:r.b+"/login"}):chrome.tabs.sendMessage(o[0].id,{type:"saveFail",category:"website",response:t})})})})}):(c.a.saving=!1,chrome.tabs.create({url:r.b+"/signup"}))}).catch(function(t){chrome.tabs.create({url:r.b+"/login"})})},P=function(t){s().then(function(e){e?A().then(function(){chrome.tabs.query({active:!0,currentWindow:!0},function(n){chrome.tabs.sendMessage(n[0].id,{type:"saving"},function(){chrome.runtime.lastError&&setTimeout(function(){chrome.tabs.sendMessage(n[0].id,{type:"saving"})},100)}),i.b(e.uid,t).then(function(t){c.a.websiteInfo=t.data,chrome.tabs.sendMessage(n[0].id,{type:"saved",category:"text",response:t})}).catch(function(t){401==t.status?chrome.tabs.create({url:r.b+"/login"}):chrome.tabs.sendMessage(n[0].id,{type:"saveFail",category:"text",response:t})})})}):chrome.tabs.create({url:r.b+"/signup"})}).catch(function(t){chrome.tabs.create({url:r.b+"/login"})})},M=function(t){s().then(function(e){e?A().then(function(){chrome.tabs.query({active:!0,currentWindow:!0},function(n){chrome.tabs.sendMessage(n[0].id,{type:"saving"},function(){chrome.runtime.lastError&&setTimeout(function(){chrome.tabs.sendMessage(n[0].id,{type:"saving"})},100)}),i.a(e.uid,t).then(function(t){c.a.websiteInfo=t.data,chrome.tabs.sendMessage(n[0].id,{type:"saved",category:"image",response:t})}).catch(function(t){401==t.status?chrome.tabs.create({url:r.b+"/login"}):chrome.tabs.sendMessage(n[0].id,{type:"saveFail",category:"image",response:t})})})}):chrome.tabs.create({url:r.b+"/signup"})}).catch(function(t){chrome.tabs.create({url:r.b+"/login"})})},A=function(){return new Promise(function(t,e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{type:"checkIframe"},function(n){n?t():chrome.tabs.executeScript(e[0].id,{file:"js/iframe.js"},function(){setTimeout(function(){t()},100)})})})})},E=function(){if(c.a.userInfo){var t={};t[c.a.userInfo.uid]=c.a.hasChecked,chrome.storage.sync.set({hasChecked:JSON.stringify(t)})}},N=function(){if(c.a.userInfo){var t={};t[c.a.userInfo.uid]=c.a.itemObj,chrome.storage.sync.set({itemObj:JSON.stringify(t)})}}},,,,,,,,,,,,,function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return t.apply(e,n)}}},function(t,e,n){"use strict";function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(1);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var c=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),c.push(o(e)+"="+o(t))}))}),i=c.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n(1),i=n(92),c={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(47):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=n(47)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(c)}),t.exports=a}).call(e,n(6))},function(t,e,n){"use strict";var o=n(1),r=n(93),i=n(44),c=n(95),a=n(98),u=n(99),s=n(48);t.exports=function(t){return new Promise(function(e,f){var d=t.data,h=t.headers;o.isFormData(d)&&delete h["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+m)}var g=c(t.baseURL,t.url);if(l.open(t.method.toUpperCase(),i(g,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in l?a(l.getAllResponseHeaders()):null,o=t.responseType&&"text"!==t.responseType?l.response:l.responseText,i={data:o,status:l.status,statusText:l.statusText,headers:n,config:t,request:l};r(e,f,i),l=null}},l.onabort=function(){l&&(f(s("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){f(s("Network Error",t,null,l)),l=null},l.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),f(s(e,t,"ECONNABORTED",l)),l=null},o.isStandardBrowserEnv()){var b=n(100),v=(t.withCredentials||u(g))&&t.xsrfCookieName?b.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in l&&o.forEach(h,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete h[e]:l.setRequestHeader(e,t)}),o.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),t.responseType)try{l.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){l&&(l.abort(),f(t),l=null)}),void 0===d&&(d=null),l.send(d)})}},function(t,e,n){"use strict";var o=n(94);t.exports=function(t,e,n,r,i){var c=new Error(t);return o(c,e,n,r,i)}},function(t,e,n){"use strict";var o=n(1);t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],i=["headers","auth","proxy"],c=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];o.forEach(r,function(t){void 0!==e[t]&&(n[t]=e[t])}),o.forEach(i,function(r){o.isObject(e[r])?n[r]=o.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:o.isObject(t[r])?n[r]=o.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])}),o.forEach(c,function(o){void 0!==e[o]?n[o]=e[o]:void 0!==t[o]&&(n[o]=t[o])});var a=r.concat(i).concat(c),u=Object.keys(e).filter(function(t){return-1===a.indexOf(t)});return o.forEach(u,function(o){void 0!==e[o]?n[o]=e[o]:void 0!==t[o]&&(n[o]=t[o])}),n}},function(t,e,n){"use strict";function o(t){this.message=t}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,t.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),r=n(83),i=n(30);o.a.optionConfig.contextMenusState&&Object(i.f)(),Object(i.e)(),Object(i.n)().then(function(t){}),chrome.storage.sync.get("optionConfig",function(t){t&&t.optionConfig&&(o.a.optionConfig=JSON.parse(t.optionConfig))}),chrome.storage.sync.get("hasChecked",function(t){if(t&&t.hasChecked){var e=JSON.parse(t.hasChecked);Object(i.k)().then(function(t){t&&e[t.uid]&&(o.a.hasChecked=e[t.uid])})}}),chrome.storage.sync.get("itemObj",function(t){if(t&&t.itemObj){var e=JSON.parse(t.itemObj);Object(i.k)().then(function(t){t&&e[t.uid]&&(o.a.itemObj=e[t.uid])})}}),chrome.runtime.onMessage.addListener(function(t,e,n){if(r.a[t.type]){var o=r.a[t.type](t);o instanceof Promise&&o.then(function(t){t&&n(t)}).catch(function(t){t&&n(t)})}return!0}),chrome.tabs.onCreated.addListener(function(t){var e=t.url||t.pendingUrl||"";e&&e.match(/withpinbox.com/)&&chrome.tabs.move(t.id,{index:1e3}),o.a.optionConfig.newtabState&&e.match(/^chrome:\/\/newtab|^edge:\/\/newtab|^about:newtab$/)&&("address"===o.a.optionConfig.searchBoxAutoFocus?chrome.tabs.update(t.id,{url:"newtab.html"}):(chrome.tabs.remove(t.id,function(){}),chrome.tabs.create({url:"newtab.html",active:!0})))}),chrome.tabs.onUpdated.addListener(function(t,e,n){if(e.url&&o.a.updatedTabId==t){var r=e.url;!r||r.match(/^(chrome:|chrome-extension:)\/\/.+/)||r.match(/\.(png|jpe?g|gif|svg)(\?[^\s,，]*)?$/)||(o.a.hasChecked[r]&&void 0!==o.a.hasChecked[r].id?chrome.browserAction.setIcon({path:"./img/logoed.png"}):(chrome.browserAction.setIcon({path:"./img/logo.png"}),o.a.hasChecked[r]||Object(i.d)({url:r}).then(function(t){chrome.browserAction.setIcon({path:"./img/logoed.png"}),t.data.state=!0,o.a.hasChecked[r]=t.data,Object(i.w)()}).catch(function(t){o.a.hasChecked[r]={state:!0},Object(i.w)()})))}o.a.updatedTabId=t}),chrome.tabs.onActivated.addListener(function(t){null!==o.a.activeTabId&&chrome.tabs.sendMessage(o.a.activeTabId,{type:"unloadIframe"}),chrome.tabs.query({active:!0,currentWindow:!0},function(t){var e=t[0];if(e){var n=e.url||e.pendingUrl||"";!n||n.match(/^(chrome:|chrome-extension:)\/\/.+/)||n.match(/\.(png|jpe?g|gif|svg)(\?[^\s,，]*)?$/)?chrome.browserAction.setIcon({path:"./img/logo.png"}):o.a.hasChecked[n]&&void 0!==o.a.hasChecked[n].id?chrome.browserAction.setIcon({path:"./img/logoed.png"}):(chrome.browserAction.setIcon({path:"./img/logo.png"}),o.a.hasChecked[n]||Object(i.d)({url:n}).then(function(t){chrome.browserAction.setIcon({path:"./img/logoed.png"}),t.data.state=!0,o.a.hasChecked[n]=t.data,Object(i.w)()}).catch(function(t){o.a.hasChecked[n]={state:!0},Object(i.w)()}))}else chrome.browserAction.setIcon({path:"./img/logo.png"})}),o.a.activeTabId=t.tabId,setTimeout(function(){o.a.updatedTabId=t.tabId},2e3)})},function(t,e,n){"use strict";var o=n(29),r=n(30),i={getcollect:function(t){return new Promise(function(t,e){chrome.storage.sync.get("recentList",function(e){chrome.storage.sync.get("recentTagList",function(n){var i="",c="";e&&(c=e.recentList),n&&(i=n.recentTagList),o.a.collectObj?o.a.tagList?t({data:o.a.collectObj,recentList:c,tagList:o.a.tagList.tags,recentTagList:i}):Object(r.p)().then(function(){t({data:o.a.collectObj,recentList:c,tagList:o.a.tagList.tags,recentTagList:i})}).catch(function(){t({data:o.a.collectObj,recentList:c,tagList:null,recentTagList:i})}):Object(r.s)().then(function(e){o.a.tagList?t({data:e.data,recentList:c,tagList:o.a.tagList.tags,recentTagList:i}):Object(r.p)().then(function(){t({data:e.data,recentList:c,tagList:o.a.tagList.tags,recentTagList:i})}).catch(function(){t({data:e.data,recentList:c,tagList:null,recentTagList:i})})})})})})},movecollect:function(t){var e={id:o.a.websiteInfo.id,collectionId:t.collectionId};return new Promise(function(n,i){Object(r.t)(e).then(function(e){o.a.hasChecked[o.a.websiteInfo.url]&&(o.a.hasChecked[o.a.websiteInfo.url].collection_id=t.collectionId,Object(r.w)()),n(e)}).catch(function(t){i(t)})})},addcollect:function(t){var e={name:t.name};return t.parentId&&(e.parentId=t.parentId),new Promise(function(t,n){Object(r.c)(e).then(function(e){var i={id:o.a.websiteInfo.id,collectionId:e.data.id};Object(r.t)(i).then(function(n){n.id=e.data.id,o.a.hasChecked[o.a.websiteInfo.url]&&(o.a.hasChecked[o.a.websiteInfo.url].collection_id=e.data.id,Object(r.w)()),t(n)}).catch(function(t){n(t)})}).catch(function(t){n(t)})})},delcollect:function(t){var e={id:o.a.websiteInfo.id};return new Promise(function(t,n){Object(r.g)(e).then(function(e){chrome.browserAction.setIcon({path:"./img/logo.png"}),delete o.a.hasChecked[o.a.websiteInfo.url],t(e)}).catch(function(t){n(t)})})},editTitle:function(t){var e={id:o.a.websiteInfo.id,brief:t.brief};return new Promise(function(t,n){Object(r.j)(e).then(function(e){t(e)}).catch(function(t){n(t)})})},editDes:function(t){var e={id:o.a.websiteInfo.id,note:t.note};return new Promise(function(t,n){Object(r.h)(e).then(function(e){t(e)}).catch(function(t){n(t)})})},editTag:function(t){var e={id:o.a.websiteInfo.id,tags:t.tags};return new Promise(function(t,n){Object(r.i)(e).then(function(e){t(e)}).catch(function(t){n(t)})})},getShortcut:function(t){return new Promise(function(t,e){o.a.shortcut?t({data:o.a.shortcut}):Object(r.n)().then(function(e){t({data:e})})})},updateShortcutKey:function(t){return new Promise(function(t,e){Object(r.n)().then(function(e){t({data:e})})})},setRecent:function(t){chrome.storage.sync.set({recentList:t.value})},setTagRecent:function(t){chrome.storage.sync.set({recentTagList:t.value})},pinboxLogin:function(t){return new Promise(function(t,e){o.a.itemObj={},o.a.tagList=null,o.a.tagObj={},Object(r.s)(),chrome.runtime.sendMessage({type:"pinboxLoginChange"}),Object(r.n)().then(function(e){t({data:e})})})},pinboxLogout:function(t){return new Promise(function(t,e){o.a.shortcut=null,o.a.collectObj=null,o.a.itemObj={},o.a.tagList=null,o.a.tagObj={},chrome.runtime.sendMessage({type:"pinboxLoginChange"},function(t){}),t()})},collectOrderChanged:function(t){o.a.collectObj=null,chrome.runtime.sendMessage({type:"pinboxLoginChange"},function(t){})},itemOrderChanged:function(t){o.a.itemObj={},chrome.runtime.sendMessage({type:"pinboxLoginChange"},function(t){})},setNewtab:function(t){o.a.optionConfig.newtabState=t.newtabState,chrome.storage.sync.set({optionConfig:JSON.stringify(o.a.optionConfig)})},setSearchBoxAutoFocus:function(t){o.a.optionConfig.searchBoxAutoFocus=t.searchBoxAutoFocus,chrome.storage.sync.set({optionConfig:JSON.stringify(o.a.optionConfig)})},setContextMenus:function(t){o.a.optionConfig.contextMenusState=t.contextMenusState,chrome.storage.sync.set({optionConfig:JSON.stringify(o.a.optionConfig)}),t.contextMenusState?Object(r.f)():(chrome.contextMenus.remove(o.a.contextMenus.page),chrome.contextMenus.remove(o.a.contextMenus.link),chrome.contextMenus.remove(o.a.contextMenus.image),chrome.contextMenus.remove(o.a.contextMenus.select))},setLinkSeach:function(t){o.a.optionConfig.linkSeach=t.linkSeach,chrome.storage.sync.set({optionConfig:JSON.stringify(o.a.optionConfig)})},setImageHoverBtn:function(t){o.a.optionConfig.imageHoverBtn=t.imageHoverBtn,chrome.storage.sync.set({optionConfig:JSON.stringify(o.a.optionConfig)})},getOptionConfig:function(t){return new Promise(function(t,e){t(o.a.optionConfig)})},search:function(t){return new Promise(function(e,n){t.value&&o.a.optionConfig.linkSeach&&Object(r.u)(t.value).then(function(n){var o={data:n.data,key:t.key,value:t.value};e(o)})})},addImage:function(t){chrome.tabs.query({active:!0},function(e){Object(r.a)({imageUrl:t.src,url:e[0].url})})},getCollectObj:function(t){return new Promise(function(t,e){o.a.collectObj?t({data:o.a.collectObj}):Object(r.s)().then(function(e){t({data:e.data})}).catch(function(t){e(t)})})},getItem:function(t){return new Promise(function(e,n){o.a.itemObj[t.id]?e({data:o.a.itemObj[t.id]}):Object(r.l)(t.id,0).then(function(t){e({data:t})}).catch(function(t){n(t)})})},getMoreItem:function(t){return new Promise(function(e,n){"tag"===t.itemType?Object(r.q)(t.id,t.offset).then(function(n){e({data:o.a.tagObj[t.id]})}):"untagged"===t.itemType?Object(r.r)(t.id,t.offset).then(function(n){e({data:o.a.tagObj[t.id]})}):Object(r.l)(t.id,t.offset).then(function(n){e({data:o.a.itemObj[t.id]})})})},getTagList:function(t){return new Promise(function(t,e){o.a.tagList?t({data:o.a.tagList}):Object(r.p)().then(function(e){t({data:e.data})}).catch(function(e){t({data:null})})})},getUntaggedItem:function(t){return new Promise(function(e,n){o.a.tagObj[t.id]?e({data:o.a.tagObj[t.id]}):Object(r.r)(t.id,0).then(function(n){e({data:o.a.tagObj[t.id]})}).catch(function(t){n(t)})})},getTaggedItem:function(t){return new Promise(function(e,n){o.a.tagObj[t.id]?e({data:o.a.tagObj[t.id]}):Object(r.q)(t.id,0).then(function(n){e({data:o.a.tagObj[t.id]})}).catch(function(t){n(t)})})},getShortcutAreaList:function(t){return new Promise(function(t,e){o.a.shortcutAreaList?t({data:o.a.shortcutAreaList}):Object(r.o)().then(function(e){t({data:e.data})}).catch(function(t){e(t)})})},setShortcutAreaList:function(t){var e={field:"newtab",data:JSON.stringify(t.data)};Object(r.y)(e)},searchSuggest:function(t){return new Promise(function(e,n){Object(r.v)(t.data).then(function(t){var n=[],o=t.data.match(/\[.+\]/);if(o){o=o[0];var r='{"s": '+o+"}";r=JSON.parse(r),n=r.s}e({data:n})})})},getResourceData:function(t){return new Promise(function(e,n){Object(r.m)(t.resourceType).then(function(t){e({data:t.data})})})},addView:function(t){return new Promise(function(e,n){Object(r.b)(t.id).then(function(t){e()})})},updateHasChecked:function(t){"delCollect"===t.data.type?t.data.collectionIds.forEach(function(t){for(var e in o.a.hasChecked)o.a.hasChecked[e].collection_id&&o.a.hasChecked[e].collection_id==t&&delete o.a.hasChecked[e]}):"moveCollect"===t.data.type?t.data.storeIds.forEach(function(e){for(var n in o.a.hasChecked)o.a.hasChecked[n].id&&o.a.hasChecked[n].id==e&&(o.a.hasChecked[n].collection_id=t.data.collectionId)}):"delItem"===t.data.type&&t.data.storeIds.forEach(function(t){for(var e in o.a.hasChecked)o.a.hasChecked[e].id&&o.a.hasChecked[e].id==t&&delete o.a.hasChecked[e]}),Object(r.w)()},updateItemDate:function(t){delete o.a.itemObj[t.data.collectionId],delete o.a.itemObj[t.data.parentId],console.log(o.a.itemObj,t.data),o.a.tagList=null,o.a.collectObj=null,Object(r.x)()},createTab:function(t){chrome.tabs.create({url:t.url})},collectChanged:function(t){o.a.collectObj=null},updateTag:function(t){o.a.tagList=null}};e.a=i},function(t,e,n){"use strict";n.d(e,"m",function(){return i}),n.d(e,"r",function(){return c}),n.d(e,"o",function(){return a}),n.d(e,"s",function(){return u}),n.d(e,"g",function(){return s}),n.d(e,"e",function(){return f}),n.d(e,"j",function(){return d}),n.d(e,"h",function(){return h}),n.d(e,"i",function(){return l}),n.d(e,"t",function(){return p}),n.d(e,"k",function(){return m}),n.d(e,"p",function(){return g}),n.d(e,"q",function(){return b}),n.d(e,"n",function(){return v}),n.d(e,"v",function(){return y}),n.d(e,"u",function(){return w}),n.d(e,"l",function(){return O}),n.d(e,"f",function(){return j}),n.d(e,"c",function(){return x}),n.d(e,"d",function(){return k}),n.d(e,"b",function(){return C}),n.d(e,"a",function(){return L});var o=n(4),r=n(85),i=function(t){return r.a.get(o.a+"user/"+t+"/shortcut")},c=function(t,e,n,i){return r.a.get(o.a+"user/"+t+"/collection?token="+e+"&order="+n+"&sort="+i)},a=function(t,e){return r.a.get(o.a+"user/"+t+"/tag?token="+e)},u=function(t,e){return r.a.put(o.a+"user/"+t+"/store/"+e.id,{collectionId:e.collectionId})},s=function(t,e){return r.a.delete(o.a+"user/"+t+"/store?storeIds[]="+[e.id])},f=function(t,e){return r.a.post(o.a+"user/"+t+"/collection",e)},d=function(t,e){return r.a.put(o.a+"user/"+t+"/store/"+e.id,{brief:e.brief})},h=function(t,e){return r.a.put(o.a+"user/"+t+"/store/"+e.id,{note:e.note})},l=function(t,e){return r.a.put(o.a+"user/"+t+"/store/"+e.id,{tags:e.tags})},p=function(t,e){return r.a.get(o.a+"user/"+t+"/search/store?count=6&keyword="+e)},m=function(t,e,n,i,c,a){return r.a.get(o.a+"user/"+t+"/collection/"+n+"/item?token="+e+"&offset="+i+"&count=50&category=all&order="+c+"&sort="+a)},g=function(t,e,n,i){return r.a.get(o.a+"user/"+t+"/tag/"+i+"/item?count=50&category=all&order=create&sort=desc&token="+e+"&offset="+n)},b=function(t,e,n){return r.a.get(o.a+"user/"+t+"/untagged/item?count=50&category=all&order=create&sort=desc&token="+e+"&offset="+n)},v=function(t,e){return r.a.get(o.a+"user/"+t+"/setting?fields[]=newtab&token="+e)},y=function(t,e){return r.a.put(o.a+"user/"+t+"/setting",e)},w=function(t){return r.a.get("http://suggestion.baidu.com/su?p=3&wd="+t+"&ie=UTF-8&cb=")},O=function(t){return r.a.get(o.a+"resource?type="+t)},j=function(t,e){return r.a.put(o.a+"user/"+t+"/store/check",e)},x=function(t,e){return r.a.post(o.a+"user/"+t+"/store/"+e+"/view")},k=function(t,e){return r.a.post(o.a+"user/"+t+"/website",e)},C=function(t,e){return r.a.post(o.a+"user/"+t+"/text",e)},L=function(t,e){return r.a.post(o.a+"user/"+t+"/image",e)}},function(t,e,n){"use strict";var o=n(86),r=n.n(o),i=n(30),c=r.a.create({});c.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",c.interceptors.request.use(function(t){return new Promise(function(e,n){Object(i.k)().then(function(n){t.headers.Authorization="Bearer "+n.token,e(t)})})},function(t){return Promise.error(t)}),c.interceptors.response.use(function(t){return Promise.resolve(t)},function(t){var e=t.response;return e?Promise.reject(e):Promise.reject(t)}),e.a=c},function(t,e,n){t.exports=n(87)},function(t,e,n){"use strict";function o(t){var e=new c(t),n=i(c.prototype.request,e);return r.extend(n,c.prototype,e),r.extend(n,e),n}var r=n(1),i=n(43),c=n(88),a=n(49),u=n(46),s=o(u);s.Axios=c,s.create=function(t){return o(a(s.defaults,t))},s.Cancel=n(50),s.CancelToken=n(101),s.isCancel=n(45),s.all=function(t){return Promise.all(t)},s.spread=n(102),t.exports=s,t.exports.default=s},function(t,e,n){"use strict";function o(t){this.defaults=t,this.interceptors={request:new c,response:new c}}var r=n(1),i=n(44),c=n(89),a=n(90),u=n(49);o.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=u(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.prototype.getUri=function(t){return t=u(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){o.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){o.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}}),t.exports=o},function(t,e,n){"use strict";function o(){this.handlers=[]}var r=n(1);o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";function o(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(1),i=n(91),c=n(45),a=n(46);t.exports=function(t){return o(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return o(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return c(e)||(o(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var o=n(1);t.exports=function(t,e,n){return o.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var o=n(1);t.exports=function(t,e){o.forEach(t,function(n,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[o])})}},function(t,e,n){"use strict";var o=n(48);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(o("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,o,r){return t.config=e,n&&(t.code=n),t.request=o,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var o=n(96),r=n(97);t.exports=function(t,e){return t&&!o(e)?r(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var o=n(1),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,c={};return t?(o.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=o.trim(t.substr(0,i)).toLowerCase(),n=o.trim(t.substr(i+1)),e){if(c[e]&&r.indexOf(e)>=0)return;c[e]="set-cookie"===e?(c[e]?c[e]:[]).concat([n]):c[e]?c[e]+", "+n:n}}),c):c}},function(t,e,n){"use strict";var o=n(1);t.exports=o.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=o.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";var o=n(1);t.exports=o.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,i,c){var a=[];a.push(t+"="+encodeURIComponent(e)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(i)&&a.push("domain="+i),!0===c&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n(50);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}}]);